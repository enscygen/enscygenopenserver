<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Enscygen Order Message Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding: 0;
      background-color: #f5f5f5;
      color: #333;
    }
    h1 {
      color: #007b8f;
    }
    label {
      font-weight: bold;
    }
    input, select, textarea, button {
      width: 100%;
      margin: 8px 0;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-sizing: border-box;
    }
    button {
      background-color: #007b8f;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #005f6b;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Enscygen Order Message Generator</h1><label>Customer Name:</label>
<input type="text" id="customerName" />

<label>Order ID:</label>
<input type="text" id="orderId" />

<label>Item Names:</label>
<input type="text" id="itemNames" />

<label>Total Amount:</label>
<input type="text" id="amount" />

<label>Order Date:</label>
<input type="date" id="orderDate" />

<label>Courier Partner:</label>
<input type="text" id="courierName" />

<label>Tracking ID:</label>
<input type="text" id="trackingId" />

<label>Tracking URL:</label>
<input type="text" id="trackingUrl" />

<label>Delivery Date:</label>
<input type="date" id="deliveryDate" />

<label>Recipient Name:</label>
<input type="text" id="recipientName" />

<label>Message Type:</label>
<select id="messageType">
  <option value="orderConfirm">Order Confirmation</option>
  <option value="paymentConfirm">Payment Confirmation</option>
  <option value="processing">Order Processing</option>
  <option value="dispatched">Order Dispatched</option>
  <option value="outForDelivery">Out for Delivery</option>
  <option value="delivered">Delivered</option>
  <option value="feedback">Feedback Request</option>
  <option value="cancelled">Order Cancelled</option>
  <option value="delay">Delay Notification</option>
  <option value="readyForPickup">Ready for Pickup</option>
  <option value="returnInitiated">Return Initiated</option>
  <option value="deliveryDelayed">Delivery Delayed</option>
  <option value="recipientUnavailable">Recipient Not Available</option>
  <option value="deliveryWithheld">Delivery Withheld - Action Required</option>
</select>

<button onclick="appendToUrl()">Append to URL</button>
<button onclick="generateMessage()">Generate Message</button>
<button onclick="copyToClipboard()">Copy to Clipboard</button>

<label>Generated Message:</label>
<textarea id="output" rows="14" readonly></textarea>

  </div>  <script>
    const fields = [
      'customerName', 'orderId', 'itemNames', 'amount', 'orderDate',
      'courierName', 'trackingId', 'trackingUrl', 'deliveryDate', 'recipientName'
    ];

    function loadFromUrl() {
      const params = new URLSearchParams(window.location.search);
      fields.forEach(field => {
        const val = params.get(field);
        if (val) document.getElementById(field).value = decodeURIComponent(val);
      });
    }

    function formatDate(inputId) {
      const date = document.getElementById(inputId).value;
      if (!date) return '';
      const d = new Date(date);
      return d.toLocaleDateString('en-GB');
    }

    function appendToUrl() {
      const params = new URLSearchParams();
      fields.forEach(field => {
        params.set(field, encodeURIComponent(document.getElementById(field).value));
      });
      const newUrl = window.location.origin + window.location.pathname + '?' + params.toString();
      window.history.replaceState(null, '', newUrl);
      alert("URL updated with current inputs.");
    }

    function generateMessage() {
      const f = id => document.getElementById(id).value;
      const messageType = document.getElementById('messageType').value;
      const portalLink = "https://enscygenstore.odoo.com/my/home";
      const extraNote = "\n\nüìå Kindly follow the instructions provided in the product brochure, SOPs, and SDSs attached with your order.";
      let msg = '';
      switch(messageType) {
        case 'orderConfirm':
          msg = `Hello ${f('customerName')},\nThank you for placing your order with Enscygen Bioscience.\n\nüì¶ Order ID: ${f('orderId')}\nüß™ Items: ${f('itemNames')}\nüí∞ Total Amount: ‚Çπ${f('amount')}\nüïí Order Date: ${formatDate('orderDate')}\n\nYou can track, download invoice, or contact our team at: ${portalLink}` + extraNote;
          break;
        case 'paymentConfirm':
          msg = `Hi ${f('customerName')},\nWe‚Äôve received your payment for Order ID ${f('orderId')}.\nüí∞ Amount Paid: ‚Çπ${f('amount')}\nüìÖ Payment Date: ${formatDate('orderDate')}\n\nYou can view your transaction history and order details here: ${portalLink}` + extraNote;
          break;
        case 'processing':
          msg = `Dear ${f('customerName')},\nYour order ${f('orderId')} is now being processed by our technical team.\nYou will be notified once it is ready for shipment.` + extraNote;
          break;
        case 'dispatched':
          msg = `Hello ${f('customerName')},\nYour order ${f('orderId')} has been dispatched.\nüöö Courier: ${f('courierName')}\nüì¶ Tracking ID: ${f('trackingId')}\nüîó Track: ${f('trackingUrl')}\nüìÖ ETA: ${formatDate('deliveryDate')}\n\nManage order here: ${portalLink}` + extraNote;
          break;
        case 'outForDelivery':
          msg = `Hi ${f('customerName')},\nYour order ${f('orderId')} is out for delivery today. Please ensure someone is available to receive it.` + extraNote;
          break;
        case 'delivered':
          msg = `Dear ${f('customerName')},\nYour order ${f('orderId')} was successfully delivered on ${formatDate('deliveryDate')}.\nüì¶ Received by: ${f('recipientName')}\n\nWe hope the items reached you in excellent condition.` + extraNote;
          break;
        case 'feedback':
          msg = `Hi ${f('customerName')},\nThank you for choosing Enscygen Bioscience.\nWe would appreciate your feedback on Order ID ${f('orderId')}.\nYou can also reach us via: ${portalLink}`;
          break;
        case 'cancelled':
          msg = `Dear ${f('customerName')},\nYour order ${f('orderId')} has been cancelled. If you have made a payment, the refund will be initiated shortly.\nView status or contact us at: ${portalLink}`;
          break;
        case 'delay':
        case 'deliveryDelayed':
          msg = `Hi ${f('customerName')},\nThere is a delay in delivering your order ${f('orderId')} due to unforeseen logistics issues.\nWe sincerely apologize for the inconvenience.\nPlease track and communicate with us via: ${portalLink}`;
          break;
        case 'recipientUnavailable':
          msg = `Dear ${f('customerName')},\nOur delivery attempt for Order ID ${f('orderId')} was unsuccessful as the recipient was not available.\nPlease ensure availability and update delivery preferences at: ${portalLink}`;
          break;
        case 'deliveryWithheld':
          msg = `Hi ${f('customerName')},\nDelivery of Order ID ${f('orderId')} has been temporarily withheld due to pending action.\n‚ö†Ô∏è Kindly login to your account at ${portalLink} to complete payment, confirm address or provide additional instructions.`;
          break;
        case 'readyForPickup':
          msg = `Dear ${f('customerName')},\nYour order ${f('orderId')} is ready for pickup.\nPlease collect it from our facility at your earliest convenience.` + extraNote;
          break;
        case 'returnInitiated':
          msg = `Hi ${f('customerName')},\nA return has been initiated for your order ${f('orderId')}.\nOur team will reach out with the next steps shortly.\nTrack status or raise queries at: ${portalLink}`;
          break;
      }
      document.getElementById('output').value = msg;
    }

    function copyToClipboard() {
      const output = document.getElementById('output');
      output.select();
      document.execCommand('copy');
      alert("Message copied to clipboard!");
    }

    window.onload = loadFromUrl;
  </script></body>
</html>
